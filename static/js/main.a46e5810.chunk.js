(this["webpackJsonptodolist-prod"]=this["webpackJsonptodolist-prod"]||[]).push([[0],{13:function(t,e,a){t.exports={todoListsFormWrapper:"TodoList_todoListsFormWrapper__2ZLqi",todoListWrapper:"TodoList_todoListWrapper__C1AMh",headerWrapper:"TodoList_headerWrapper__2LBSr",arrowBack:"TodoList_arrowBack__18oD_",inputTitle:"TodoList_inputTitle__3CGPI",tasksCounter:"TodoList_tasksCounter__1Iav4",tasksWrapper:"TodoList_tasksWrapper__2XKIW",taskWrapper:"TodoList_taskWrapper__1QtxF",checkBox:"TodoList_checkBox__fMglL",checkmark:"TodoList_checkmark__3kNNn",taskDesc:"TodoList_taskDesc__3uexz",taskTitle:"TodoList_taskTitle__3cToZ",taskText:"TodoList_taskText__3xJZI",deleteButton:"TodoList_deleteButton__28dai",todoListsWrapper:"TodoList_todoListsWrapper__3J3dJ",addTaskFormWrapper:"TodoList_addTaskFormWrapper__2yekr",inputWrapper:"TodoList_inputWrapper__2YLhm",title:"TodoList_title__17gTb",h4:"TodoList_h4__36Viq",addTitle:"TodoList_addTitle__3U-6e",addText:"TodoList_addText__3xKoA",buttonAddWrapper:"TodoList_buttonAddWrapper__11Xgl",buttonAdd:"TodoList_buttonAdd__2CIws",buttonFormWrapper:"TodoList_buttonFormWrapper__2bdVp",btnClose:"TodoList_btnClose__1Jm1x",btnSave:"TodoList_btnSave__3X9XM",bContain:"TodoList_bContain__IBxR8",bInput:"TodoList_bInput__-bcSm","b-ripple":"TodoList_b-ripple__2OUjM","b-ripple-duplicate":"TodoList_b-ripple-duplicate__3kSNP"}},43:function(t,e,a){t.exports=a(75)},48:function(t,e,a){},49:function(t,e,a){t.exports=a.p+"static/media/Bebas-Regular.1cb1f763.ttf"},50:function(t,e,a){t.exports=a.p+"static/media/BebasNeue-Light.2594d637.ttf"},51:function(t,e,a){t.exports=a.p+"static/media/BebasNeue-Book.0e0f3f2f.ttf"},73:function(t,e,a){},75:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(20);a(48),a(49),a(50),a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(17),i=a(23),c=a(2),d=a(38),l=a.n(d).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"a1408a51-e2c8-48b4-9b0f-06ce8121bd8d"}}),u=function(){return l.get("").then((function(t){return t.data}))},p=function(t){return l.get("/".concat(t,"/tasks")).then((function(t){return t.data.items}))},h=function(t,e){return l.post("/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data.data.item}))},m=function(t){return l.post("/",{title:t}).then((function(t){return t.data.data.item}))},f=function(t,e,a){return l.put("/".concat(t,"/tasks/").concat(e),a).then((function(t){return t.data.data.item}))},k=function(t,e){return l.delete("/".concat(t,"/tasks/").concat(e)).then((function(t){return t.data.resultCode}))},T=function(t){return l.delete("/".concat(t)).then((function(t){return t.data.resultCode}))},b=function(t,e){return l.put("/".concat(t),{title:e}).then((function(t){return t.data}))},v="todolist/reducer/SET_TODOLISTS",L="todolist/reducer/ADD_TASK",g="todolist/reducer/ADD_LIST",_="todolist/reducer/CHANGE_TASK",E="todolist/reducer/DELETE_TASK",O="todolist/reducer/DELETE_LIST",j="todolist/reducer/CHANGE_LIST_TITLE",C={todoLists:[]},y=function(){return function(t){u().then((function(e){e.forEach((function(e){p(e.id).then((function(a){var n;t((n=Object(c.a)({},e,{tasks:a}),{type:v,todoList:n}))}))}))}))}},N=function(t,e,a){return function(n){h(t,e).then((function(e){f(t,e.id,Object(c.a)({},e,{description:a})).then((function(e){n(function(t,e){return{type:L,todolistId:t,newTask:e}}(t,e))}))}))}},w=function(t){return function(e){m(t).then((function(t){e(function(t){return{type:g,newList:t}}(Object(c.a)({},t,{tasks:[]})))}))}},A=function(t,e,a){return function(n,s){var o=s().todolists.todoLists.find((function(e){return e.id===t}));if(o){var r=o.tasks.find((function(t){return t.id===e}));if(r){var i=Object(c.a)({},r,{},a);f(t,e,i).then((function(e){n(function(t,e){return{type:_,listId:t,task:e}}(t,e))}))}}}},x=function(t,e){return function(a){b(t,e).then((function(n){0===n.resultCode&&a(function(t,e){return{type:j,listId:t,title:e}}(t,e))}))}},F=function(t,e){return function(a){k(t,e).then((function(n){0===n&&a(function(t,e){return{type:E,listId:t,taskId:e}}(t,e))}))}},W=function(t){return function(e){T(t).then((function(a){0===a&&e(function(t){return{type:O,listId:t}}(t))}))}},S=a(39),I=a(40),B=Object(r.combineReducers)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v:return Object(c.a)({},t,{todoLists:[].concat(Object(i.a)(t.todoLists),[e.todoList])});case"todolist/reducer/SET_TASKS":return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.todolistId?Object(c.a)({},t,{tasks:e.tasks}):t}))});case L:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.todolistId?Object(c.a)({},t,{tasks:[].concat(Object(i.a)(t.tasks),[e.newTask])}):t}))});case g:return Object(c.a)({},t,{todoLists:[].concat(Object(i.a)(t.todoLists),[e.newList])});case _:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{tasks:t.tasks.map((function(t){return t.id===e.task.id?e.task:t}))}):t}))});case j:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{title:e.title}):t}))});case E:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case O:return Object(c.a)({},t,{todoLists:t.todoLists.filter((function(t){return t.id!==e.listId}))});default:return t}}}),D=Object(r.createStore)(B,Object(I.composeWithDevTools)(Object(r.applyMiddleware)(S.a))),M=a(18),K=a(22),J=a(16),X=a(3),P=a(4),R=a(6),G=a(5),U=a(7),Z=(a(73),a(13));var q,z=function(t){var e={};return t.position&&(e={position:t.position,bottom:"5px",right:"5px",backgroundColor:"rgb(255, 40, 81)",opacity:.1}),n.createElement("div",{className:Z.deleteButton,style:Object(c.a)({},e),onClick:t.onClick})},H=a(13),V=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).setCurrentList=function(){a.props.history.push(a.props.id)},a.delete=function(t){t.stopPropagation(),a.props.deleteList(a.props.id)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:H.todoListsWrapper,onClick:this.setCurrentList},s.a.createElement("div",{className:H.tlTitle},this.props.title),s.a.createElement("div",{className:H.tlCount},this.props.count),s.a.createElement(z,{position:"absolute",onClick:this.delete}))}}]),e}(s.a.Component),Y=function(t){var e=t.style,a=void 0===e?{}:e,n=t.fill,o=void 0===n?"#000":n,r=t.width,i=void 0===r?"100%":r,c=t.className,d=void 0===c?"":c,l=t.viewBox,u=void 0===l?"0 0 64 64":l;return s.a.createElement("svg",{width:i,style:a,height:i,viewBox:u,xmlns:"http://www.w3.org/2000/svg",className:"".concat(d||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},s.a.createElement("path",{fill:o,d:"m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"}))},Q=a(13),$=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).state={changeTitle:!1,title:a.props.title},a.changeTitle=function(t){t.currentTarget.value.length<=15&&a.setState({title:t.currentTarget.value})},a.toggleTitle=function(){a.setState({changeTitle:!a.state.changeTitle}),a.state.title!==a.props.title&&a.props.changeTitle(a.state.title)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){var t=this.props.addForm?"#ff2851":"#0a0224";return s.a.createElement("div",{className:Q.headerWrapper,style:{backgroundColor:t}},!this.props.addForm&&this.state.changeTitle?s.a.createElement("input",{className:Q.inputTitle,autoFocus:!0,onChange:this.changeTitle,value:this.state.title,onBlur:this.toggleTitle,type:"text"}):s.a.createElement("div",{onClick:this.toggleTitle,style:{cursor:"pointer"},className:Q.title}," ",this.props.title," "),s.a.createElement("div",{className:Q.tasksCounter}," ",this.props.tasksCount," open task"),s.a.createElement("div",{onClick:this.props.closeList},s.a.createElement(Y,{className:Q.arrowBack,width:"35",fill:"#ff2851"})))}}]),e}(s.a.Component);!function(t){t[t.New=0]="New",t[t.Completed=2]="Completed"}(q||(q={}));var tt=a(13),et=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).changeTask=function(t){var e=q.New;t.currentTarget.checked&&(e=q.Completed),a.props.changeTask(a.props.task.id,{status:e})},a.doubleClick=function(){a.props.doubleClick(a.props.task)},a.deleteTask=function(){a.props.deleteTask(a.props.task.id)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){var t=this.props.task,e=2===t.status;return n.createElement("div",{className:tt.taskWrapper},n.createElement("label",{className:tt.bContain},n.createElement("input",{type:"checkbox",checked:e,onChange:this.changeTask}),n.createElement("div",{className:tt.bInput})),n.createElement("div",{className:tt.taskDesc,onDoubleClick:this.doubleClick},n.createElement("div",{className:tt.taskTitle},t.title),n.createElement("div",{className:tt.taskText},t.description)),n.createElement(z,{onClick:this.deleteTask}))}}]),e}(n.Component),at=a(13),nt=function(t){function e(){return Object(X.a)(this,e),Object(R.a)(this,Object(G.a)(e).apply(this,arguments))}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return n.createElement(et,{key:e.id,changeTask:t.props.changeTask,deleteTask:t.props.deleteTask,doubleClick:t.props.doubleClick,task:e})}));return n.createElement("div",{className:at.tasksWrapper},e)}}]),e}(n.Component);var st=function(t){return n.createElement("button",{className:t.class,onClick:t.onClick},t.buttonText)},ot=a(13),rt=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).state={title:"",desc:""},a.changeTitle=function(t){t.currentTarget.value.length<=20&&a.setState({title:t.currentTarget.value})},a.changeDesc=function(t){a.setState({desc:t.currentTarget.value})},a.addTask=function(){a.props.currentTask?a.props.changeTask(a.props.currentTask.id,{title:a.state.title,description:a.state.desc}):a.props.addTask(a.state.title,a.state.desc),a.props.deActiveAddForm()},a.buttonText=a.props.currentTask?"Save":"Add",a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"componentDidMount",value:function(){this.props.currentTask&&this.setState({title:this.props.currentTask.title,desc:this.props.currentTask.description?this.props.currentTask.description:""})}},{key:"render",value:function(){return n.createElement("div",{className:ot.addTaskFormWrapper},n.createElement("div",{className:ot.inputWrapper},n.createElement("div",{className:ot.addTitle},n.createElement("div",{className:"".concat(ot.title," ").concat(ot.h4)},"Title"),n.createElement("input",{value:this.state.title,onChange:this.changeTitle,type:"text",placeholder:"Enter Task Title"})),n.createElement("div",{className:ot.addText},n.createElement("div",{className:"".concat(ot.title," ").concat(ot.h4)},"Description"),n.createElement("input",{value:this.state.desc,onChange:this.changeDesc,type:"text",placeholder:"Enter Task Description"}))),n.createElement("div",{className:ot.buttonFormWrapper},n.createElement(st,{class:ot.btnClose,onClick:this.props.deActiveAddForm,buttonText:"Close"}),n.createElement(st,{class:ot.btnSave,onClick:this.addTask,buttonText:this.buttonText})))}}]),e}(n.Component),it=a(13),ct=function(t){function e(){return Object(X.a)(this,e),Object(R.a)(this,Object(G.a)(e).apply(this,arguments))}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){return n.createElement("div",{className:it.buttonAddWrapper},n.createElement("div",{onClick:this.props.addItem,className:it.buttonAdd}))}}]),e}(n.Component),dt=a(13),lt=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).state={addForm:!1,currentTask:null},a.activeAddForm=function(){a.setState({addForm:!0})},a.deActiveAddForm=function(){a.setState({addForm:!1,currentTask:null})},a.addTask=function(t,e){a.props.addTask(a.props.id,t,e)},a.changeTask=function(t,e){a.props.changeTask(a.props.id,t,e),a.setState({currentTask:null})},a.changeListTitle=function(t){a.props.changeListTitle(a.props.id,t)},a.doubleClick=function(t){a.setState({currentTask:t,addForm:!0})},a.deleteTask=function(t){a.props.deleteTask(a.props.id,t)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){var t=this.props.tasks.length,e=n.createElement(rt,{currentTask:this.state.currentTask,addTask:this.addTask,deActiveAddForm:this.deActiveAddForm,changeTask:this.changeTask}),a=n.createElement(n.Fragment,null,n.createElement(nt,{changeTask:this.changeTask,doubleClick:this.doubleClick,deleteTask:this.deleteTask,tasks:this.props.tasks}),n.createElement(ct,{addItem:this.activeAddForm}));return n.createElement("div",{className:dt.todoListWrapper},n.createElement($,{addForm:this.state.addForm,title:this.props.title,changeTitle:this.changeListTitle,tasksCount:t,closeList:this.props.closeList}),this.state.addForm?e:a)}}]),e}(n.Component),ut=Object(M.b)(null,(function(t){return{addTask:function(e,a,n){var s=N(e,a,n);t(s)},changeTask:function(e,a,n){var s=A(e,a,n);t(s)},deleteTask:function(e,a){var n=F(e,a);t(n)},changeListTitle:function(e,a){var n=x(e,a);t(n)}}}))(lt),pt=function(t){var e=t.todolists.todoLists;return e.sort((function(t,e){return e.order-t.order})),e},ht=a(13),mt=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).state={title:""},a.setTitle=function(t){t.currentTarget.value.length<=15&&a.setState({title:t.currentTarget.value})},a.addNewList=function(){a.props.addNewList(a.state.title)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"render",value:function(){return n.createElement("div",{className:ht.addTaskFormWrapper},n.createElement("div",{className:ht.title},"New Todolist"),n.createElement("div",{className:ht.inputWrapper},n.createElement("div",{className:ht.addTitle},n.createElement("div",{className:"".concat(ht.title," ").concat(ht.h4)},"Todolist Title"),n.createElement("input",{type:"text",value:this.state.title,onChange:this.setTitle,placeholder:"Enter Todolist Title"}))),n.createElement("div",{className:ht.buttonFormWrapper},n.createElement(st,{class:ht.btnClose,onClick:this.props.toggleAddForm,buttonText:"Close"}),n.createElement(st,{class:ht.btnSave,onClick:this.addNewList,buttonText:"Add"})))}}]),e}(n.Component),ft=a(13);var kt=function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:ft.todoListsFormWrapper},t.children),s.a.createElement("div",{onClick:t.onClick,className:ft.buttonAdd,style:{backgroundColor:"#ff2851",flexShrink:0}}))},Tt=function(t){function e(){var t,a;Object(X.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(R.a)(this,(t=Object(G.a)(e)).call.apply(t,[this].concat(s)))).state={addMode:!1},a.closeTodoList=function(){a.props.history.push("/")},a.toggleAddForm=function(){a.setState({addMode:!a.state.addMode})},a.addNewList=function(t){a.props.addList(t),a.toggleAddForm()},a.deleteTodoList=function(t){a.props.deleteList(t)},a}return Object(U.a)(e,t),Object(P.a)(e,[{key:"componentDidMount",value:function(){this.props.getTodoLists()}},{key:"render",value:function(){var t=this,e=this.props.todoLists.map((function(e){return s.a.createElement(V,{history:t.props.history,key:e.id,id:e.id,title:e.title,count:e.tasks.length,deleteList:t.deleteTodoList})})),a=this.props.todoLists.find((function(e){return e.id===t.props.match.params.id}));return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-in"},this.props.match.params.id&&a?s.a.createElement(ut,{id:a.id,title:a.title,tasks:a.tasks,closeList:this.closeTodoList}):this.state.addMode?s.a.createElement(mt,{addNewList:this.addNewList,toggleAddForm:this.toggleAddForm}):s.a.createElement(kt,{onClick:this.toggleAddForm},e)))}}]),e}(s.a.Component),bt=Object(J.e)(Object(M.b)((function(t){return{todoLists:pt(t)}}),(function(t){return{getTodoLists:function(){var e=y();t(e)},addList:function(e){var a=w(e);t(a)},deleteList:function(e){var a=W(e);t(a)}}}))(Tt)),vt=function(){return s.a.createElement("div",null,s.a.createElement(J.a,{path:"/:id?",render:function(){return s.a.createElement(bt,null)}}))};o.render(n.createElement(K.a,null,n.createElement(M.a,{store:D},n.createElement(vt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[43,1,2]]]);
//# sourceMappingURL=main.a46e5810.chunk.js.map