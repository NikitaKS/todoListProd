(this["webpackJsonptodolist-prod"]=this["webpackJsonptodolist-prod"]||[]).push([[0],{13:function(t,e,a){t.exports={todoListsFormWrapper:"TodoList_todoListsFormWrapper__2ZLqi",todoListWrapper:"TodoList_todoListWrapper__C1AMh",headerWrapper:"TodoList_headerWrapper__2LBSr",arrowBack:"TodoList_arrowBack__18oD_",inputTitle:"TodoList_inputTitle__3CGPI",tasksCounter:"TodoList_tasksCounter__1Iav4",tasksWrapper:"TodoList_tasksWrapper__2XKIW",taskWrapper:"TodoList_taskWrapper__1QtxF",checkBox:"TodoList_checkBox__fMglL",checkmark:"TodoList_checkmark__3kNNn",taskDesc:"TodoList_taskDesc__3uexz",taskTitle:"TodoList_taskTitle__3cToZ",taskText:"TodoList_taskText__3xJZI",deleteButton:"TodoList_deleteButton__28dai",todoListsWrapper:"TodoList_todoListsWrapper__3J3dJ",addTaskFormWrapper:"TodoList_addTaskFormWrapper__2yekr",inputWrapper:"TodoList_inputWrapper__2YLhm",title:"TodoList_title__17gTb",h4:"TodoList_h4__36Viq",addTitle:"TodoList_addTitle__3U-6e",addText:"TodoList_addText__3xKoA",buttonAddWrapper:"TodoList_buttonAddWrapper__11Xgl",buttonAdd:"TodoList_buttonAdd__2CIws",buttonFormWrapper:"TodoList_buttonFormWrapper__2bdVp",btnClose:"TodoList_btnClose__1Jm1x",btnSave:"TodoList_btnSave__3X9XM",bContain:"TodoList_bContain__IBxR8",bInput:"TodoList_bInput__-bcSm","b-ripple":"TodoList_b-ripple__2OUjM","b-ripple-duplicate":"TodoList_b-ripple-duplicate__3kSNP"}},44:function(t,e,a){t.exports=a(77)},49:function(t,e,a){},50:function(t,e,a){t.exports=a.p+"static/media/Bebas-Regular.1cb1f763.ttf"},51:function(t,e,a){t.exports=a.p+"static/media/BebasNeue-Light.2594d637.ttf"},52:function(t,e,a){t.exports=a.p+"static/media/BebasNeue-Book.0e0f3f2f.ttf"},75:function(t,e,a){},77:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),o=a(20);a(49),a(50),a(51),a(52),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(17),i=a(23),c=a(2),l=a(39),d=a.n(l).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"a1408a51-e2c8-48b4-9b0f-06ce8121bd8d"}}),u=function(){return d.get("").then((function(t){return t.data}))},p=function(t){return d.get("/".concat(t,"/tasks")).then((function(t){return t.data.items}))},h=function(t,e){return d.post("/".concat(t,"/tasks"),{title:e}).then((function(t){return t.data.data.item}))},m=function(t){return d.post("/",{title:t}).then((function(t){return t.data.data.item}))},f=function(t,e,a){return d.put("/".concat(t,"/tasks/").concat(e),a).then((function(t){return t.data.data.item}))},k=function(t,e){return d.delete("/".concat(t,"/tasks/").concat(e)).then((function(t){return t.data.resultCode}))},T=function(t){return d.delete("/".concat(t)).then((function(t){return t.data.resultCode}))},b=function(t,e){return d.put("/".concat(t),{title:e}).then((function(t){return t.data}))},v=function(){return d.post("https://social-network.samuraijs.com/api/1.1/auth/login",{email:"pancxxx@gmail.com",password:"todolistproduction"})},L="todolist/reducer/SET_TODOLISTS",g="todolist/reducer/ADD_TASK",_="todolist/reducer/ADD_LIST",E="todolist/reducer/CHANGE_TASK",j="todolist/reducer/DELETE_TASK",O="todolist/reducer/DELETE_LIST",C="todolist/reducer/CHANGE_LIST_TITLE",y={todoLists:[]},N=function(){return function(t){u().then((function(e){e.forEach((function(e){p(e.id).then((function(a){var n;t((n=Object(c.a)({},e,{tasks:a}),{type:L,todoList:n}))}))}))}))}},w=function(t,e,a){return function(n){h(t,e).then((function(e){f(t,e.id,Object(c.a)({},e,{description:a})).then((function(e){n(function(t,e){return{type:g,todolistId:t,newTask:e}}(t,e))}))}))}},A=function(t){return function(e){m(t).then((function(t){e(function(t){return{type:_,newList:t}}(Object(c.a)({},t,{tasks:[]})))}))}},x=function(t,e,a){return function(n,s){var o=s().todolists.todoLists.find((function(e){return e.id===t}));if(o){var r=o.tasks.find((function(t){return t.id===e}));if(r){var i=Object(c.a)({},r,{},a);f(t,e,i).then((function(e){n(function(t,e){return{type:E,listId:t,task:e}}(t,e))}))}}}},F=function(t,e){return function(a){b(t,e).then((function(n){0===n.resultCode&&a(function(t,e){return{type:C,listId:t,title:e}}(t,e))}))}},W=function(t,e){return function(a){k(t,e).then((function(n){0===n&&a(function(t,e){return{type:j,listId:t,taskId:e}}(t,e))}))}},S=function(t){return function(e){T(t).then((function(a){0===a&&e(function(t){return{type:O,listId:t}}(t))}))}},I=a(40),B=a(41),D=Object(r.combineReducers)({todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case L:return Object(c.a)({},t,{todoLists:[].concat(Object(i.a)(t.todoLists),[e.todoList])});case"todolist/reducer/SET_TASKS":return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.todolistId?Object(c.a)({},t,{tasks:e.tasks}):t}))});case g:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.todolistId?Object(c.a)({},t,{tasks:[].concat(Object(i.a)(t.tasks),[e.newTask])}):t}))});case _:return Object(c.a)({},t,{todoLists:[].concat(Object(i.a)(t.todoLists),[e.newList])});case E:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{tasks:t.tasks.map((function(t){return t.id===e.task.id?e.task:t}))}):t}))});case C:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{title:e.title}):t}))});case j:return Object(c.a)({},t,{todoLists:t.todoLists.map((function(t){return t.id===e.listId?Object(c.a)({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case O:return Object(c.a)({},t,{todoLists:t.todoLists.filter((function(t){return t.id!==e.listId}))});default:return t}}}),M=Object(r.createStore)(D,Object(B.composeWithDevTools)(Object(r.applyMiddleware)(I.a))),K=a(18),J=a(22),X=a(16),P=a(26),R=a.n(P),G=a(3),U=a(4),Z=a(6),q=a(5),z=a(7),H=(a(75),a(13));var V,Y=function(t){var e={};return t.position&&(e={position:t.position,bottom:"5px",right:"5px",backgroundColor:"rgb(255, 40, 81)",opacity:.1}),n.createElement("div",{className:H.deleteButton,style:Object(c.a)({},e),onClick:t.onClick})},Q=a(13),$=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).setCurrentList=function(){a.props.history.push(a.props.id)},a.delete=function(t){t.stopPropagation(),a.props.deleteList(a.props.id)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){return s.a.createElement("div",{className:Q.todoListsWrapper,onClick:this.setCurrentList},s.a.createElement("div",{className:Q.tlTitle},this.props.title),s.a.createElement("div",{className:Q.tlCount},this.props.count),s.a.createElement(Y,{position:"absolute",onClick:this.delete}))}}]),e}(s.a.Component),tt=function(t){var e=t.style,a=void 0===e?{}:e,n=t.fill,o=void 0===n?"#000":n,r=t.width,i=void 0===r?"100%":r,c=t.className,l=void 0===c?"":c,d=t.viewBox,u=void 0===d?"0 0 64 64":d;return s.a.createElement("svg",{width:i,style:a,height:i,viewBox:u,xmlns:"http://www.w3.org/2000/svg",className:"".concat(l||""),xmlnsXlink:"http://www.w3.org/1999/xlink"},s.a.createElement("path",{fill:o,d:"m54 30h-39.899l15.278-14.552c.8-.762.831-2.028.069-2.828-.761-.799-2.027-.831-2.828-.069l-17.448 16.62c-.755.756-1.172 1.76-1.172 2.829 0 1.068.417 2.073 1.207 2.862l17.414 16.586c.387.369.883.552 1.379.552.528 0 1.056-.208 1.449-.621.762-.8.731-2.065-.069-2.827l-15.342-14.552h39.962c1.104 0 2-.896 2-2s-.896-2-2-2z"}))},et=a(13),at=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).state={changeTitle:!1,title:a.props.title},a.changeTitle=function(t){t.currentTarget.value.length<=15&&a.setState({title:t.currentTarget.value})},a.toggleTitle=function(){a.setState({changeTitle:!a.state.changeTitle}),a.state.title!==a.props.title&&a.props.changeTitle(a.state.title)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){var t=this.props.addForm?"#ff2851":"#0a0224";return s.a.createElement("div",{className:et.headerWrapper,style:{backgroundColor:t}},!this.props.addForm&&this.state.changeTitle?s.a.createElement("input",{className:et.inputTitle,autoFocus:!0,onChange:this.changeTitle,value:this.state.title,onBlur:this.toggleTitle,type:"text"}):s.a.createElement("div",{onClick:this.toggleTitle,style:{cursor:"pointer"},className:et.title}," ",this.props.title," "),s.a.createElement("div",{className:et.tasksCounter}," ",this.props.tasksCount," open task"),s.a.createElement("div",{onClick:this.props.closeList},s.a.createElement(tt,{className:et.arrowBack,width:"35",fill:"#ff2851"})))}}]),e}(s.a.Component);!function(t){t[t.New=0]="New",t[t.Completed=2]="Completed"}(V||(V={}));var nt=a(13),st=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).changeTask=function(t){var e=V.New;t.currentTarget.checked&&(e=V.Completed),a.props.changeTask(a.props.task.id,{status:e})},a.doubleClick=function(){a.props.doubleClick(a.props.task)},a.deleteTask=function(){a.props.deleteTask(a.props.task.id)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){var t=this.props.task,e=2===t.status;return n.createElement("div",{className:nt.taskWrapper},n.createElement("label",{className:nt.bContain},n.createElement("input",{type:"checkbox",checked:e,onChange:this.changeTask}),n.createElement("div",{className:nt.bInput})),n.createElement("div",{className:nt.taskDesc,onDoubleClick:this.doubleClick},n.createElement("div",{className:nt.taskTitle},t.title),n.createElement("div",{className:nt.taskText},t.description)),n.createElement(Y,{onClick:this.deleteTask}))}}]),e}(n.Component),ot=a(13),rt=function(t){function e(){return Object(G.a)(this,e),Object(Z.a)(this,Object(q.a)(e).apply(this,arguments))}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){var t=this,e=this.props.tasks.map((function(e){return n.createElement(st,{key:e.id,changeTask:t.props.changeTask,deleteTask:t.props.deleteTask,doubleClick:t.props.doubleClick,task:e})}));return n.createElement("div",{className:ot.tasksWrapper},e)}}]),e}(n.Component);var it=function(t){return n.createElement("button",{className:t.class,onClick:t.onClick},t.buttonText)},ct=a(13),lt=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).state={title:"",desc:""},a.changeTitle=function(t){t.currentTarget.value.length<=20&&a.setState({title:t.currentTarget.value})},a.changeDesc=function(t){a.setState({desc:t.currentTarget.value})},a.addTask=function(){a.props.currentTask?a.props.changeTask(a.props.currentTask.id,{title:a.state.title,description:a.state.desc}):a.props.addTask(a.state.title,a.state.desc),a.props.deActiveAddForm()},a.buttonText=a.props.currentTask?"Save":"Add",a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){this.props.currentTask&&this.setState({title:this.props.currentTask.title,desc:this.props.currentTask.description?this.props.currentTask.description:""})}},{key:"render",value:function(){return n.createElement("div",{className:ct.addTaskFormWrapper},n.createElement("div",{className:ct.inputWrapper},n.createElement("div",{className:ct.addTitle},n.createElement("div",{className:"".concat(ct.title," ").concat(ct.h4)},"Title"),n.createElement("input",{value:this.state.title,onChange:this.changeTitle,type:"text",placeholder:"Enter Task Title"})),n.createElement("div",{className:ct.addText},n.createElement("div",{className:"".concat(ct.title," ").concat(ct.h4)},"Description"),n.createElement("input",{value:this.state.desc,onChange:this.changeDesc,type:"text",placeholder:"Enter Task Description"}))),n.createElement("div",{className:ct.buttonFormWrapper},n.createElement(it,{class:ct.btnClose,onClick:this.props.deActiveAddForm,buttonText:"Close"}),n.createElement(it,{class:ct.btnSave,onClick:this.addTask,buttonText:this.buttonText})))}}]),e}(n.Component),dt=a(13),ut=function(t){function e(){return Object(G.a)(this,e),Object(Z.a)(this,Object(q.a)(e).apply(this,arguments))}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){return n.createElement("div",{className:dt.buttonAddWrapper},n.createElement("div",{onClick:this.props.addItem,className:dt.buttonAdd}))}}]),e}(n.Component),pt=a(13),ht=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).state={addForm:!1,currentTask:null},a.activeAddForm=function(){a.setState({addForm:!0})},a.deActiveAddForm=function(){a.setState({addForm:!1,currentTask:null})},a.addTask=function(t,e){a.props.addTask(a.props.id,t,e)},a.changeTask=function(t,e){a.props.changeTask(a.props.id,t,e),a.setState({currentTask:null})},a.changeListTitle=function(t){a.props.changeListTitle(a.props.id,t)},a.doubleClick=function(t){a.setState({currentTask:t,addForm:!0})},a.deleteTask=function(t){a.props.deleteTask(a.props.id,t)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){var t=this.props.tasks.length,e=n.createElement(lt,{currentTask:this.state.currentTask,addTask:this.addTask,deActiveAddForm:this.deActiveAddForm,changeTask:this.changeTask}),a=n.createElement(n.Fragment,null,n.createElement(rt,{changeTask:this.changeTask,doubleClick:this.doubleClick,deleteTask:this.deleteTask,tasks:this.props.tasks}),n.createElement(ut,{addItem:this.activeAddForm}));return n.createElement("div",{className:pt.todoListWrapper},n.createElement(at,{addForm:this.state.addForm,title:this.props.title,changeTitle:this.changeListTitle,tasksCount:t,closeList:this.props.closeList}),this.state.addForm?e:a)}}]),e}(n.Component),mt=Object(K.b)(null,(function(t){return{addTask:function(e,a,n){var s=w(e,a,n);t(s)},changeTask:function(e,a,n){var s=x(e,a,n);t(s)},deleteTask:function(e,a){var n=W(e,a);t(n)},changeListTitle:function(e,a){var n=F(e,a);t(n)}}}))(ht),ft=function(t){var e=t.todolists.todoLists;return e.sort((function(t,e){return e.order-t.order})),e},kt=a(13),Tt=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).state={title:""},a.setTitle=function(t){t.currentTarget.value.length<=15&&a.setState({title:t.currentTarget.value})},a.addNewList=function(){a.props.addNewList(a.state.title)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"render",value:function(){return n.createElement("div",{className:kt.addTaskFormWrapper},n.createElement("div",{className:kt.title},"New Todolist"),n.createElement("div",{className:kt.inputWrapper},n.createElement("div",{className:kt.addTitle},n.createElement("div",{className:"".concat(kt.title," ").concat(kt.h4)},"Todolist Title"),n.createElement("input",{type:"text",value:this.state.title,onChange:this.setTitle,placeholder:"Enter Todolist Title"}))),n.createElement("div",{className:kt.buttonFormWrapper},n.createElement(it,{class:kt.btnClose,onClick:this.props.toggleAddForm,buttonText:"Close"}),n.createElement(it,{class:kt.btnSave,onClick:this.addNewList,buttonText:"Add"})))}}]),e}(n.Component),bt=a(13);var vt=function(t){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:bt.todoListsFormWrapper},t.children),s.a.createElement("div",{onClick:t.onClick,className:bt.buttonAdd,style:{backgroundColor:"#ff2851",flexShrink:0}}))},Lt=function(t){function e(){var t,a;Object(G.a)(this,e);for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(a=Object(Z.a)(this,(t=Object(q.a)(e)).call.apply(t,[this].concat(s)))).state={addMode:!1},a.closeTodoList=function(){a.props.history.push("/")},a.toggleAddForm=function(){a.setState({addMode:!a.state.addMode})},a.addNewList=function(t){a.props.addList(t),a.toggleAddForm()},a.deleteTodoList=function(t){a.props.deleteList(t)},a}return Object(z.a)(e,t),Object(U.a)(e,[{key:"componentDidMount",value:function(){return R.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.awrap(v());case 2:this.props.getTodoLists();case 3:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){var t=this,e=this.props.todoLists.map((function(e){return s.a.createElement($,{history:t.props.history,key:e.id,id:e.id,title:e.title,count:e.tasks.length,deleteList:t.deleteTodoList})})),a=this.props.todoLists.find((function(e){return e.id===t.props.match.params.id}));return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"App-in"},this.props.match.params.id&&a?s.a.createElement(mt,{id:a.id,title:a.title,tasks:a.tasks,closeList:this.closeTodoList}):this.state.addMode?s.a.createElement(Tt,{addNewList:this.addNewList,toggleAddForm:this.toggleAddForm}):s.a.createElement(vt,{onClick:this.toggleAddForm},e)))}}]),e}(s.a.Component),gt=Object(X.e)(Object(K.b)((function(t){return{todoLists:ft(t)}}),(function(t){return{getTodoLists:function(){var e=N();t(e)},addList:function(e){var a=A(e);t(a)},deleteList:function(e){var a=S(e);t(a)}}}))(Lt)),_t=function(){return s.a.createElement("div",null,s.a.createElement(X.a,{path:"/:id?",render:function(){return s.a.createElement(gt,null)}}))};o.render(n.createElement(J.a,null,n.createElement(K.a,{store:M},n.createElement(_t,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.fa8b72d4.chunk.js.map